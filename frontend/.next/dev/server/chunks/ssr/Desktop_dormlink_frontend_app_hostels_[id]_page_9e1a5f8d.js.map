{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/dormlink/frontend/app/hostels/%5Bid%5D/page.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, use } from 'react';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport api from '@/lib/api';\r\nimport { useRouter } from 'next/navigation';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst SEMESTER_OPTIONS = [\r\n  { value: 'Semester 1', label: 'Semester 1', desc: 'First academic semester' },\r\n  { value: 'Semester 2', label: 'Semester 2', desc: 'Second academic semester' },\r\n  { value: 'Full Year', label: 'Full Year', desc: 'Both semesters (discount may apply)' },\r\n];\r\n\r\nexport default function HostelDetail({ params }) {\r\n  const { id } = use(params);\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const [hostel, setHostel] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedRoom, setSelectedRoom] = useState(null);\r\n  const [selectedSemester, setSelectedSemester] = useState('');\r\n  const [specialRequests, setSpecialRequests] = useState('');\r\n  const [bookingLoading, setBookingLoading] = useState(false);\r\n\r\n  useEffect(() => { fetchHostel(); }, []);\r\n\r\n  const fetchHostel = async () => {\r\n    try {\r\n      const res = await api.get(`/hostels/${id}`);\r\n      setHostel(res.data.hostel);\r\n      setReviews(res.data.reviews || []);\r\n    } catch (e) { console.error(e); }\r\n    finally { setLoading(false); }\r\n  };\r\n\r\n  const getDepositAmount = () => {\r\n    if (!selectedRoom || !selectedSemester) return 0;\r\n    const fee = selectedSemester === 'Full Year'\r\n      ? parseFloat(selectedRoom.price_per_semester) * 2\r\n      : parseFloat(selectedRoom.price_per_semester);\r\n    return fee * 0.5;\r\n  };\r\n\r\n  const getTotalFee = () => {\r\n    if (!selectedRoom || !selectedSemester) return 0;\r\n    return selectedSemester === 'Full Year'\r\n      ? parseFloat(selectedRoom.price_per_semester) * 2\r\n      : parseFloat(selectedRoom.price_per_semester);\r\n  };\r\n\r\n  const handleBook = async () => {\r\n    if (!user) { router.push('/login'); return; }\r\n    if (!selectedRoom) { toast.error('Please select a room'); return; }\r\n    if (!selectedSemester) { toast.error('Please select a semester'); return; }\r\n    setBookingLoading(true);\r\n    try {\r\n      await api.post('/bookings', {\r\n        room_id: selectedRoom.id,\r\n        semester: selectedSemester,\r\n        special_requests: specialRequests\r\n      });\r\n      toast.success('Booking submitted! You will be notified when confirmed.');\r\n    } catch (e) {\r\n      toast.error(e.response?.data?.error || 'Booking failed');\r\n    } finally { setBookingLoading(false); }\r\n  };\r\n\r\n  if (loading) return (\r\n    <div style={{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'100vh',fontFamily:'Inter,sans-serif',color:'#94a3b8'}}>\r\n      Loading property...\r\n    </div>\r\n  );\r\n\r\n  if (!hostel) return (\r\n    <div style={{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',minHeight:'100vh',fontFamily:'Inter,sans-serif',gap:'16px'}}>\r\n      <p style={{color:'#94a3b8'}}>Property not found</p>\r\n      <Link href=\"/\" style={{color:'#1a56db',fontWeight:600}}>Back to listings</Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\"/>\r\n      <style>{`\r\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@700&display=swap');\r\n        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}\r\n        body{font-family:'Inter',sans-serif;background:#f8fafc;color:#0f172a;}\r\n        .nav{background:white;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100;}\r\n        .nav-inner{max-width:1160px;margin:0 auto;padding:0 32px;height:64px;display:flex;align-items:center;justify-content:space-between;}\r\n        .logo{font-family:'Merriweather',serif;font-size:20px;font-weight:700;color:#1e429f;text-decoration:none;display:flex;align-items:center;gap:10px;}\r\n        .logo-mark{width:32px;height:32px;background:#1a56db;border-radius:8px;display:flex;align-items:center;justify-content:center;}\r\n        .btn-back{display:flex;align-items:center;gap:8px;color:#475569;text-decoration:none;font-size:14px;font-weight:500;padding:8px 16px;border-radius:6px;transition:all 0.15s;}\r\n        .btn-back:hover{background:#f1f4f9;}\r\n        .hero{height:360px;background:linear-gradient(135deg,#0f172a 0%,#1e3a7a 100%);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;}\r\n        .hero-img{width:100%;height:100%;object-fit:cover;position:absolute;inset:0;}\r\n        .hero-overlay{position:absolute;inset:0;background:rgba(15,23,42,0.5);}\r\n        .content{max-width:1160px;margin:0 auto;padding:40px 32px;display:grid;grid-template-columns:1fr 380px;gap:40px;align-items:start;}\r\n        .hostel-name{font-family:'Merriweather',serif;font-size:30px;font-weight:700;color:#0f172a;margin-bottom:12px;}\r\n        .verified-badge{display:inline-flex;align-items:center;gap:6px;background:#dcfce7;color:#166534;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600;margin-bottom:16px;}\r\n        .meta-row{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:24px;}\r\n        .meta-item{display:flex;align-items:center;gap:6px;font-size:14px;color:#475569;}\r\n        .meta-uni{color:#1a56db;font-weight:500;}\r\n        .sec-title{font-size:17px;font-weight:700;color:#0f172a;margin:28px 0 14px;padding-top:28px;border-top:1px solid #e2e8f0;display:flex;align-items:center;gap:8px;}\r\n        .sec-title-first{border-top:none;padding-top:0;margin-top:0;}\r\n        .desc{font-size:15px;color:#475569;line-height:1.8;}\r\n        .amenities{display:flex;flex-wrap:wrap;gap:10px;}\r\n        .amenity{display:flex;align-items:center;gap:7px;background:#ebf2ff;color:#1e429f;padding:7px 14px;border-radius:6px;font-size:13px;font-weight:500;}\r\n        .amenity .material-icons{font-size:16px;}\r\n        .rooms{display:flex;flex-direction:column;gap:12px;}\r\n        .room-card{background:white;border:2px solid #e2e8f0;border-radius:10px;padding:20px;cursor:pointer;transition:all 0.15s;}\r\n        .room-card:hover{border-color:#1a56db;}\r\n        .room-card.selected{border-color:#1a56db;background:#f0f5ff;}\r\n        .room-header{display:flex;justify-content:space-between;align-items:flex-start;}\r\n        .room-left{}\r\n        .room-name{font-size:16px;font-weight:700;color:#0f172a;display:flex;align-items:center;gap:8px;}\r\n        .room-name .material-icons{color:#1a56db;font-size:20px;}\r\n        .room-capacity{font-size:13px;color:#94a3b8;margin-top:3px;display:flex;align-items:center;gap:4px;}\r\n        .room-capacity .material-icons{font-size:14px;}\r\n        .room-avail{font-size:12px;color:#166534;font-weight:500;margin-top:4px;}\r\n        .room-price{text-align:right;}\r\n        .room-price-amount{font-size:20px;font-weight:700;color:#0f172a;}\r\n        .room-price-label{font-size:11px;color:#94a3b8;margin-top:2px;}\r\n        .room-desc{font-size:13px;color:#94a3b8;margin-top:10px;padding-top:10px;border-top:1px solid #f1f4f9;}\r\n        .booking-card{background:white;border:1px solid #e2e8f0;border-radius:12px;padding:24px;position:sticky;top:80px;}\r\n        .booking-title{font-family:'Merriweather',serif;font-size:20px;font-weight:700;color:#0f172a;margin-bottom:4px;}\r\n        .booking-sub{font-size:13px;color:#94a3b8;margin-bottom:24px;}\r\n        .selected-info{background:#f0f5ff;border:1px solid #c7d9f8;border-radius:8px;padding:14px;margin-bottom:16px;}\r\n        .selected-info-title{font-size:12px;font-weight:700;color:#1e429f;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px;}\r\n        .selected-info-row{display:flex;justify-content:space-between;font-size:13px;color:#475569;margin-bottom:4px;}\r\n        .selected-info-row.total{font-weight:700;color:#0f172a;font-size:14px;border-top:1px solid #c7d9f8;padding-top:8px;margin-top:4px;}\r\n        .selected-info-row.deposit{color:#1a56db;font-weight:600;}\r\n        .selected-info-row.commission{color:#94a3b8;font-size:12px;}\r\n        .semester-options{display:flex;flex-direction:column;gap:8px;margin-bottom:16px;}\r\n        .semester-option{display:flex;align-items:center;gap:12px;padding:12px 14px;border:2px solid #e2e8f0;border-radius:8px;cursor:pointer;transition:all 0.15s;}\r\n        .semester-option:hover{border-color:#1a56db;}\r\n        .semester-option.selected{border-color:#1a56db;background:#f0f5ff;}\r\n        .semester-radio{width:18px;height:18px;border:2px solid #e2e8f0;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all 0.15s;}\r\n        .semester-option.selected .semester-radio{border-color:#1a56db;background:#1a56db;}\r\n        .semester-radio-dot{width:8px;height:8px;border-radius:50%;background:white;}\r\n        .semester-label{font-size:14px;font-weight:600;color:#0f172a;}\r\n        .semester-desc{font-size:12px;color:#94a3b8;}\r\n        .form-group{margin-bottom:14px;}\r\n        .form-label{display:block;font-size:13px;font-weight:600;color:#475569;margin-bottom:5px;}\r\n        .form-textarea{width:100%;border:1px solid #e2e8f0;border-radius:7px;padding:10px 14px;font-size:14px;font-family:'Inter',sans-serif;color:#0f172a;outline:none;resize:vertical;min-height:72px;}\r\n        .form-textarea:focus{border-color:#1a56db;box-shadow:0 0 0 3px rgba(26,86,219,0.1);}\r\n        .btn-book{width:100%;background:#1a56db;color:white;border:none;padding:14px;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;transition:all 0.15s;margin-top:8px;display:flex;align-items:center;justify-content:center;gap:8px;}\r\n        .btn-book:hover{background:#1e429f;}\r\n        .btn-book:disabled{opacity:0.6;cursor:not-allowed;}\r\n        .login-prompt{text-align:center;padding:20px;background:#f8fafc;border-radius:8px;}\r\n        .login-prompt p{font-size:14px;color:#475569;margin-bottom:12px;}\r\n        .btn-login{background:#1a56db;color:white;padding:10px 24px;border-radius:7px;font-size:14px;font-weight:600;text-decoration:none;display:inline-block;}\r\n        .hint{font-size:12px;color:#94a3b8;text-align:center;margin-top:12px;line-height:1.6;}\r\n        .step-label{display:inline-flex;align-items:center;gap:6px;background:#0f172a;color:white;padding:3px 10px;border-radius:20px;font-size:11px;font-weight:700;margin-bottom:10px;}\r\n        .no-room-selected{background:#f8fafc;border:1px dashed #e2e8f0;border-radius:8px;padding:16px;text-align:center;color:#94a3b8;font-size:13px;margin-bottom:16px;}\r\n      `}</style>\r\n\r\n      <nav className=\"nav\">\r\n        <div className=\"nav-inner\">\r\n          <Link href=\"/\" className=\"logo\">\r\n            <div className=\"logo-mark\">\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                <path d=\"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                <path d=\"M9 22V12h6v10\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            DormLink\r\n          </Link>\r\n          <Link href=\"/\" className=\"btn-back\">\r\n            ← Back to listings\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"hero\">\r\n        {hostel.image_url && <img src={hostel.image_url} alt={hostel.name} className=\"hero-img\"/>}\r\n        <div className=\"hero-overlay\"/>\r\n      </div>\r\n\r\n      <div className=\"content\">\r\n        <div>\r\n          <div className=\"verified-badge\">\r\n            <span className=\"material-icons\" style={{fontSize:'14px'}}>verified</span>\r\n            Verified Property\r\n          </div>\r\n          <h1 className=\"hostel-name\">{hostel.name}</h1>\r\n          <div className=\"meta-row\">\r\n            <div className=\"meta-item\">\r\n              <span className=\"material-icons\" style={{fontSize:'16px',color:'#94a3b8'}}>location_on</span>\r\n              {hostel.address}, {hostel.city}\r\n            </div>\r\n            {hostel.universities && (\r\n              <div className=\"meta-item meta-uni\">\r\n                <span className=\"material-icons\" style={{fontSize:'16px'}}>school</span>\r\n                {hostel.universities.name}\r\n              </div>\r\n            )}\r\n            {hostel.distance_from_university && (\r\n              <div className=\"meta-item\">\r\n                <span className=\"material-icons\" style={{fontSize:'16px',color:'#94a3b8'}}>directions_walk</span>\r\n                {hostel.distance_from_university} km from university\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {hostel.description && (\r\n            <>\r\n              <div className=\"sec-title sec-title-first\">\r\n                <span className=\"material-icons\" style={{color:'#1a56db'}}>info</span>\r\n                About This Property\r\n              </div>\r\n              <p className=\"desc\">{hostel.description}</p>\r\n            </>\r\n          )}\r\n\r\n          {hostel.amenities?.length > 0 && (\r\n            <>\r\n              <div className=\"sec-title\">\r\n                <span className=\"material-icons\" style={{color:'#1a56db'}}>star</span>\r\n                Amenities\r\n              </div>\r\n              <div className=\"amenities\">\r\n                {hostel.amenities.map((a, i) => (\r\n                  <div key={i} className=\"amenity\">\r\n                    <span className=\"material-icons\">\r\n                      {a === 'WiFi' ? 'wifi' : a === 'Water' ? 'water_drop' : a === 'Security' ? 'security' : a === 'Kitchen' ? 'kitchen' : a === 'Parking' ? 'local_parking' : a === 'Laundry' ? 'local_laundry_service' : a === 'Generator' ? 'bolt' : a === 'CCTV' ? 'videocam' : a === 'Gym' ? 'fitness_center' : a === 'Study Room' ? 'menu_book' : a === 'Cleaning' ? 'cleaning_services' : a === 'Air Conditioning' ? 'ac_unit' : a === 'Hot Shower' ? 'shower' : a === 'Furnished' ? 'chair' : a === 'Garden' ? 'park' : 'check_circle'}\r\n                    </span>\r\n                    {a}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {hostel.rooms?.length > 0 && (\r\n            <>\r\n              <div className=\"sec-title\">\r\n                <span className=\"material-icons\" style={{color:'#1a56db'}}>bed</span>\r\n                Available Rooms — Click to Select\r\n              </div>\r\n              <div className=\"rooms\">\r\n                {hostel.rooms.map(room => (\r\n                  <div\r\n                    key={room.id}\r\n                    className={`room-card ${selectedRoom?.id === room.id ? 'selected' : ''}`}\r\n                    onClick={() => setSelectedRoom(room)}\r\n                  >\r\n                    <div className=\"room-header\">\r\n                      <div className=\"room-left\">\r\n                        <div className=\"room-name\">\r\n                          <span className=\"material-icons\">bed</span>\r\n                          {room.room_type}\r\n                        </div>\r\n                        <div className=\"room-capacity\">\r\n                          <span className=\"material-icons\">group</span>\r\n                          {room.capacity} person{room.capacity > 1 ? 's' : ''} per room — each pays separately\r\n                        </div>\r\n                        {room.available_count > 0 && (\r\n                          <div className=\"room-avail\">✓ {room.available_count} rooms available</div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"room-price\">\r\n                        <div className=\"room-price-amount\">TZS {parseFloat(room.price_per_semester || room.price_per_month || 0).toLocaleString()}</div>\r\n                        <div className=\"room-price-label\">per person / semester</div>\r\n                      </div>\r\n                    </div>\r\n                    {room.description && <div className=\"room-desc\">{room.description}</div>}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* BOOKING CARD */}\r\n        <div>\r\n          <div className=\"booking-card\">\r\n            <div className=\"booking-title\">Book This Hostel</div>\r\n            <div className=\"booking-sub\">Select a room and semester to reserve your space</div>\r\n\r\n            {!user ? (\r\n              <div className=\"login-prompt\">\r\n                <p>Sign in to book this property</p>\r\n                <Link href=\"/login\" className=\"btn-login\">Sign In to Book</Link>\r\n              </div>\r\n            ) : user.role !== 'student' ? (\r\n              <div className=\"login-prompt\">\r\n                <p>Only students can book accommodation</p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {/* Step 1 */}\r\n                <div className=\"step-label\">Step 1 — Room</div>\r\n                {selectedRoom ? (\r\n                  <div className=\"selected-info\" style={{marginBottom:'16px'}}>\r\n                    <div className=\"selected-info-title\">Selected Room</div>\r\n                    <div className=\"selected-info-row\">\r\n                      <span>{selectedRoom.room_type}</span>\r\n                      <span>{selectedRoom.capacity} person{selectedRoom.capacity > 1 ? 's' : ''}</span>\r\n                    </div>\r\n                    <div className=\"selected-info-row\">\r\n                      <span>Your fee per semester</span>\r\n                      <span style={{fontWeight:600}}>TZS {parseFloat(selectedRoom.price_per_semester || selectedRoom.price_per_month || 0).toLocaleString()}</span>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"no-room-selected\">\r\n                    <span className=\"material-icons\" style={{fontSize:'24px',display:'block',marginBottom:'6px'}}>bed</span>\r\n                    Select a room from the list on the left\r\n                  </div>\r\n                )}\r\n\r\n                {/* Step 2 */}\r\n                <div className=\"step-label\">Step 2 — Semester</div>\r\n                <div className=\"semester-options\">\r\n                  {SEMESTER_OPTIONS.map(opt => (\r\n                    <div\r\n                      key={opt.value}\r\n                      className={`semester-option ${selectedSemester === opt.value ? 'selected' : ''}`}\r\n                      onClick={() => setSelectedSemester(opt.value)}\r\n                    >\r\n                      <div className=\"semester-radio\">\r\n                        {selectedSemester === opt.value && <div className=\"semester-radio-dot\"/>}\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"semester-label\">{opt.label}</div>\r\n                        <div className=\"semester-desc\">{opt.desc}</div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Price Summary */}\r\n                {selectedRoom && selectedSemester && (\r\n                  <div className=\"selected-info\">\r\n                    <div className=\"selected-info-title\">Payment Summary</div>\r\n                    <div className=\"selected-info-row\">\r\n                      <span>Total semester fee</span>\r\n                      <span>TZS {getTotalFee().toLocaleString()}</span>\r\n                    </div>\r\n                    <div className=\"selected-info-row deposit\">\r\n                      <span>50% deposit (pay now)</span>\r\n                      <span>TZS {getDepositAmount().toLocaleString()}</span>\r\n                    </div>\r\n                    <div className=\"selected-info-row commission\">\r\n                      <span>Platform fee (3%)</span>\r\n                      <span>TZS {(getDepositAmount() * 0.03).toLocaleString()}</span>\r\n                    </div>\r\n                    <div className=\"selected-info-row total\">\r\n                      <span>You pay today</span>\r\n                      <span>TZS {getDepositAmount().toLocaleString()}</span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Special Requests */}\r\n                <div className=\"form-group\" style={{marginTop:'14px'}}>\r\n                  <label className=\"form-label\">Special Requests (optional)</label>\r\n                  <textarea\r\n                    className=\"form-textarea\"\r\n                    placeholder=\"Any special requirements...\"\r\n                    value={specialRequests}\r\n                    onChange={e => setSpecialRequests(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <button\r\n                  className=\"btn-book\"\r\n                  disabled={bookingLoading || !selectedRoom || !selectedSemester}\r\n                  onClick={handleBook}\r\n                >\r\n                  <span className=\"material-icons\">send</span>\r\n                  {bookingLoading ? 'Submitting...' : 'Submit Booking Request'}\r\n                </button>\r\n\r\n                <p className=\"hint\">\r\n                  After the host confirms your booking, you will receive a notification to complete your 50% deposit payment via M-Pesa, Tigo Pesa, Airtel Money or Bank Transfer.\r\n                </p>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}