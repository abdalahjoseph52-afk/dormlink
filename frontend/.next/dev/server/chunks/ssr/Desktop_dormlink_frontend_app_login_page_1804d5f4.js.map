{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/dormlink/frontend/app/login/page.js"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function LoginPage() {\r\n  const { login } = useAuth();\r\n  const [form, setForm] = useState({ email: '', password: '' });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const user = await login(form.email, form.password);\r\n      toast.success('Welcome back!');\r\n      if (!user || !user.role) {\r\n        toast.error('Login error: no role found');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      if (user.role === 'admin') window.location.href = '/admin/dashboard';\r\n      else if (user.role === 'host') window.location.href = '/host/dashboard';\r\n      else window.location.href = '/student/dashboard';\r\n    } catch (err) {\r\n      const message = err.response?.data?.error || err.response?.data?.message || 'Invalid email or password';\r\n      toast.error(message, { duration: 4000 });\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{`\r\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@700&display=swap');\r\n        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}\r\n        body{font-family:'Inter',sans-serif;background:#f8fafc;}\r\n        .page{min-height:100vh;display:flex;}\r\n        .left{flex:1;background:linear-gradient(160deg,#0f172a 0%,#1e3a7a 100%);padding:48px;display:flex;flex-direction:column;justify-content:space-between;}\r\n        .left-logo{font-family:'Merriweather',serif;font-size:22px;font-weight:700;color:white;display:flex;align-items:center;gap:10px;text-decoration:none;}\r\n        .logo-mark{width:34px;height:34px;background:#1a56db;border-radius:8px;display:flex;align-items:center;justify-content:center;}\r\n        .left-content{margin-top:60px;}\r\n        .left-tag{display:inline-flex;align-items:center;gap:8px;background:rgba(26,86,219,0.2);border:1px solid rgba(26,86,219,0.4);color:#93b4f8;padding:5px 14px;border-radius:20px;font-size:12px;font-weight:600;margin-bottom:24px;}\r\n        .left h2{font-family:'Merriweather',serif;font-size:36px;font-weight:700;color:white;line-height:1.2;margin-bottom:16px;}\r\n        .left h2 span{color:#93b4f8;}\r\n        .left p{font-size:15px;color:rgba(255,255,255,0.5);line-height:1.7;max-width:380px;}\r\n        .left-features{display:flex;flex-direction:column;gap:14px;margin-top:36px;}\r\n        .lf{display:flex;align-items:center;gap:12px;color:rgba(255,255,255,0.6);font-size:14px;}\r\n        .lf-icon{width:32px;height:32px;background:rgba(26,86,219,0.25);border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0;}\r\n        .right{width:480px;display:flex;align-items:center;justify-content:center;padding:48px;background:white;}\r\n        .form-box{width:100%;max-width:380px;}\r\n        .form-title{font-family:'Merriweather',serif;font-size:26px;font-weight:700;color:#0f172a;margin-bottom:6px;}\r\n        .form-sub{font-size:14px;color:#94a3b8;margin-bottom:32px;}\r\n        .form-group{margin-bottom:18px;}\r\n        .form-label{display:block;font-size:13px;font-weight:600;color:#475569;margin-bottom:6px;}\r\n        .form-input{width:100%;border:1px solid #e2e8f0;border-radius:7px;padding:11px 14px;font-size:14px;font-family:'Inter',sans-serif;color:#0f172a;outline:none;transition:border 0.15s;}\r\n        .form-input:focus{border-color:#1a56db;box-shadow:0 0 0 3px rgba(26,86,219,0.1);}\r\n        .btn-submit{width:100%;background:#1a56db;color:white;border:none;padding:12px;border-radius:7px;font-size:15px;font-weight:600;cursor:pointer;font-family:'Inter',sans-serif;transition:all 0.15s;margin-top:8px;}\r\n        .btn-submit:hover{background:#1e429f;}\r\n        .btn-submit:disabled{opacity:0.6;cursor:not-allowed;}\r\n        .form-footer{text-align:center;margin-top:20px;font-size:13px;color:#94a3b8;}\r\n        .form-footer a{color:#1a56db;font-weight:500;text-decoration:none;}\r\n        .divider{display:flex;align-items:center;gap:12px;margin:24px 0;}\r\n        .divider-line{flex:1;height:1px;background:#e2e8f0;}\r\n        .divider-text{font-size:12px;color:#94a3b8;}\r\n      `}</style>\r\n\r\n      <div className=\"page\">\r\n        <div className=\"left\">\r\n          <Link href=\"/\" className=\"left-logo\">\r\n            <div className=\"logo-mark\">\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                <path d=\"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                <path d=\"M9 22V12h6v10\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n              </svg>\r\n            </div>\r\n            DormLink\r\n          </Link>\r\n          <div className=\"left-content\">\r\n            <div className=\"left-tag\">Student Housing Platform</div>\r\n            <h2>Welcome Back to <span>DormLink</span></h2>\r\n            <p>Tanzania&apos;s most trusted platform for verified student accommodation.</p>\r\n            <div className=\"left-features\">\r\n              {['Verified properties only', 'Secure online payments', 'Book in minutes'].map((f, i) => (\r\n                <div key={i} className=\"lf\">\r\n                  <div className=\"lf-icon\">\r\n                    <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                      <path d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" stroke=\"#93b4f8\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                    </svg>\r\n                  </div>\r\n                  {f}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div style={{fontSize:'12px',color:'rgba(255,255,255,0.2)'}}>© 2024 DormLink. All rights reserved.</div>\r\n        </div>\r\n\r\n        <div className=\"right\">\r\n          <div className=\"form-box\">\r\n            <h1 className=\"form-title\">Sign In</h1>\r\n            <p className=\"form-sub\">Enter your credentials to access your account</p>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Email Address</label>\r\n                <input\r\n                  className=\"form-input\"\r\n                  type=\"email\"\r\n                  placeholder=\"you@example.com\"\r\n                  value={form.email}\r\n                  onChange={e => setForm({...form, email: e.target.value})}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Password</label>\r\n                <input\r\n                  className=\"form-input\"\r\n                  type=\"password\"\r\n                  placeholder=\"••••••••\"\r\n                  value={form.password}\r\n                  onChange={e => setForm({...form, password: e.target.value})}\r\n                  required\r\n                />\r\n              </div>\r\n              <button className=\"btn-submit\" disabled={loading}>\r\n                {loading ? 'Signing in...' : 'Sign In'}\r\n              </button>\r\n            </form>\r\n            <div className=\"divider\">\r\n              <div className=\"divider-line\"></div>\r\n              <span className=\"divider-text\">OR</span>\r\n              <div className=\"divider-line\"></div>\r\n            </div>\r\n            <p className=\"form-footer\">\r\n              Don&apos;t have an account? <Link href=\"/register\">Create one free</Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}